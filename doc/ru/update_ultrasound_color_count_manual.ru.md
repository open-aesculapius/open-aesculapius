# Ручное изменение количества отображаемых цветов УЗИ-снимка [![en](https://img.shields.io/badge/en-ru-green.svg)](../en/update_ultrasound_color_count_manual.md)
Данный файл содержит описание метода ручного изменения количества отображаемых цветов ультразвукового изображения.

# Основная идея
Модуль выполняет автоматическое уменьшение количества уникальных цветов на изображении с помощью алгоритма кластеризации K-средних. Такой подход позволяет корректировать контрастность и упростить цветовое представление, сохраняя при этом визуальную интерпретируемость и анатомические особенности снимка.

На вход модуль принимает ультразвуковое изображение — как одноканальное (градации серого), так и цветное (в пространстве BGR). Изображение преобразуется в массив признаков: каждый пиксель представлен либо интенсивностью, либо вектором из трёх компонент.

Далее применяется алгоритм K-средних с заданным количеством кластеров. Каждый пиксель заменяется на ближайший центроид, в результате чего формируется компактная цветовая палитра. Итоговое изображение сохраняет структуру и детали оригинала, но содержит ограниченное число уникальных цветов, что делает его более удобным для визуального анализа или последующей обработки.

# Демонстрация
Для демонстрации работы модуля был использован пример `simple_update_ultrasound_color_count_manual.py`, расположенный по следующему пути:

```
<корень_проекта>/examples/simple_update_ultrasound_color_count_manual.py
```


Ниже представлено исходное изображение, использованное в качестве входных данных:

![raw ultrasound color count](/doc/assets/raw_ultrasound_color_count.png)    

Результат работы модуля — изображение с уменьшенным количеством отображаемых цветов:

![result ultrasound color count](/doc/assets/result_ultrasound_color_count.png)
